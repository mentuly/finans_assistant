{% extends "base.html" %}
{% load static %}
{% block title %}Реєстрація | Фінансовий помічник{% endblock %}

{% block extra_head %}
<style>
.auth-container {
    min-height: 80vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 2rem 0;
}

.auth-card {
    background: #fff;
    border-radius: 20px;
    box-shadow: 0 10px 40px rgba(25, 118, 210, 0.15);
    padding: 3rem 2.5rem;
    width: 100%;
    max-width: 500px;
    border: 1px solid #e3eafc;
}

.auth-logo {
    text-align: center;
    margin-bottom: 2rem;
}

.auth-logo h1 {
    color: #1976d2;
    font-weight: 900;
    font-size: 2.5rem;
    margin-bottom: 0.5rem;
    letter-spacing: 2px;
}

.auth-logo p {
    color: #666;
    margin: 0;
    font-size: 1.1rem;
}

.auth-form .form-control {
    border-radius: 12px;
    border: 2px solid #e3eafc;
    padding: 0.75rem 1rem;
    font-size: 1rem;
    transition: all 0.3s ease;
    background: #f8f9ff;
}

.auth-form .form-control:focus {
    border-color: #1976d2;
    box-shadow: 0 0 0 0.2rem rgba(25, 118, 210, 0.25);
    background: #fff;
}

.auth-form label {
    font-weight: 600;
    color: #333;
    margin-bottom: 0.5rem;
}

.auth-btn {
    background: linear-gradient(135deg, #1976d2 0%, #42a5f5 100%);
    border: none;
    border-radius: 12px;
    padding: 0.75rem 2rem;
    font-weight: 700;
    font-size: 1.1rem;
    letter-spacing: 1px;
    transition: all 0.3s ease;
    width: 100%;
    margin-top: 1rem;
}

.auth-btn:hover {
    background: linear-gradient(135deg, #1565c0 0%, #1976d2 100%);
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(25, 118, 210, 0.3);
}

.auth-links {
    text-align: center;
    margin-top: 1.5rem;
    padding-top: 1.5rem;
    border-top: 1px solid #e3eafc;
}

.auth-links a {
    color: #1976d2;
    text-decoration: none;
    font-weight: 600;
    transition: color 0.3s ease;
}

.auth-links a:hover {
    color: #1565c0;
    text-decoration: underline;
}

.social-login {
    margin-top: 1.5rem;
    text-align: center;
}

.social-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.75rem 1.5rem;
    margin: 0.5rem;
    border-radius: 12px;
    text-decoration: none;
    font-weight: 600;
    transition: all 0.3s ease;
    min-width: 140px;
    font-size: 0.95rem;
    gap: 0.5rem;
}

.social-btn.google {
    background: linear-gradient(135deg, #0059ffff 0%, #1435ecff 100%);
    color: white;
    border: 2px solid transparent;
}

.social-btn.github {
    background: linear-gradient(135deg, #3f3f3fff 0%, #080505ff 100%);
    color: white;
    border: 2px solid transparent;
}

.social-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    color: white;
    text-decoration: none;
}

.social-btn.google:hover {
    box-shadow: 0 8px 25px rgba(0, 102, 255, 0.4);
}

.social-btn.github:hover {
    box-shadow: 0 8px 25px rgba(36, 41, 46, 0.4);
}

.social-icon {
    width: 20px;
    height: 20px;
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
}

.google-icon {
    background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTIyLjU2IDEyLjI1QzIyLjU2IDExLjQ3IDIyLjQ5IDEwLjcyIDIyLjM2IDEwSDEyVjE0LjI2SDE3LjkyQzE3LjY2IDE1LjYgMTYuOTggMTYuODEgMTUuOTIgMTcuNjFWMjAuNzlIMTkuMzZDMjEuMzYgMTguOSAyMi41NiAxNS44IDIyLjU2IDEyLjI1WiIgZmlsbD0iIzQyODVGNCIvPgo8cGF0aCBkPSJNMTIgMjNDMTUuMjQgMjMgMTcuOTUgMjEuOTIgMTkuMzYgMjAuNzlMMTUuOTIgMTcuNjFDMTQuODkgMTguMzEgMTMuNTQgMTguNzIgMTIgMTguNzJDOC44OCAxOC43MiA2LjIzIDE2LjgyIDUuMzMgMTQuMTdIMi4xN1YxNy4zM0M0LjI3IDIxLjQ5IDcuODggMjMgMTIgMjNaIiBmaWxsPSIjMzRBODUzIi8+CjxwYXRoIGQ9Ik01LjMzIDE0LjE3QzUuMSAxMy40NyA0Ljk3IDEyLjc0IDQuOTcgMTJDNC45NyAxMS4yNiA1LjEgMTAuNTMgNS4zMyA5LjgzVjYuNjdIMi4xN0MxLjQgOC4wOSAxIDkuOTkgMSAxMkMxIDE0LjAxIDEuNDAgMTUuOTEgMi4xNyAxNy4zM0w1LjMzIDE0LjE3WiIgZmlsbD0iI0ZCQkMwNCIvPgo8cGF0aCBkPSJNMTIgNS4yOEMxMy42NyA1LjI4IDE1LjE2IDUuODkgMTYuMzMgNy4wNkwxOS4zNiA0LjAzQzE3Ljk1IDIuNzEgMTUuMjQgMSAxMiAxQzcuODggMSA0LjI3IDIuNTEgMi4xNyA2LjY3TDUuMzMgOS44M0M2LjIzIDcuMTggOC44OCA1LjI4IDEyIDUuMjhaIiBmaWxsPSIjRUE0MzM1Ii8+Cjwvc3ZnPgo=');
}

.github-icon {
    background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyIDJDNi40NzcgMiAyIDYuNDg0IDIgMTIuMDE3QzIgMTYuNjI0IDQuODY1IDIwLjUgOC44MzkgMjEuNzQzQzkuMzM5IDIxLjg0MiA5LjUyMSAyMS41NDQgOS41MjEgMjEuMjk2QzkuNTIxIDIxLjA3NSA5LjUxMiAyMC40NiA5LjUwNyAxOS42NEM2Ljc3NiAyMC4yMjMgNi4xMzkgMTguMjc0IDYuMTM5IDE4LjI3NEM1LjY4IDE3LjEyNSA1LjAyOSAxNi44MjUgNS4wMjkgMTYuODI1QzQuMTIxIDE2LjIzNSA1LjEwMSAxNi4yNDcgNS4xMDEgMTYuMjQ3QzYuMTAxIDE2LjMxOCA2LjYyOSAxNy4yNDQgNi42MjkgMTcuMjQ0QzcuNTI5IDE4LjcyMyA4Ljk5NyAxOC4yNzQgOS41MjYgMTguMDMzQzkuNjI0IDE3LjM5NiA5Ljg5OCAxNi45NTYgMTAuMjAzIDE2LjcyM0M3LjczIDEwLjE5MyA3LjczIDEwLjE5MyA3LjczIDEwLjE5M0M3LjczIDEwLjE5MyA3LjczIDEwLjE5MyA3LjczIDEwLjE5M0M3LjczIDEwLjE5MyA3LjczIDEwLjE5MyA3LjczIDEwLjE5M0M3LjczIDEwLjE5MyA3LjczIDEwLjE5MyA3LjczIDEwLjE5M0M3LjczIDEwLjE5MyA3LjczIDEwLjE5MyA3LjczIDEwLjE5M1oiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=');
}

.error-message {
    background: #ffebee;
    border: 1px solid #f44336;
    color: #c62828;
    padding: 0.75rem;
    border-radius: 8px;
    margin-bottom: 1rem;
}

.password-help {
    font-size: 0.875rem;
    color: #666;
    margin-top: 0.25rem;
}
</style>
{% endblock %}

{% block content %}
<div class="auth-container">
    <div class="auth-card">
        <div class="auth-logo">
            <h1>LifeManager</h1>
            <p>Створіть ваш акаунт</p>
        </div>

        {% if form.non_field_errors %}
            <div class="error-message">
                {{ form.non_field_errors }}
            </div>
        {% endif %}

        <form method="post" class="auth-form">
            {% csrf_token %}
            
            <div class="mb-3">
                <label for="{{ form.username.id_for_label }}" class="form-label">Ім'я користувача</label>
                <input type="text" 
                       class="form-control{% if form.username.errors %} is-invalid{% endif %}" 
                       id="{{ form.username.id_for_label }}" 
                       name="{{ form.username.name }}" 
                       value="{{ form.username.value|default:'' }}"
                       placeholder="Введіть ім'я користувача">
                {% if form.username.errors %}
                    <div class="invalid-feedback">{{ form.username.errors }}</div>
                {% endif %}
            </div>

            <div class="mb-3">
                <label for="{{ form.email.id_for_label }}" class="form-label">Email</label>
                <input type="email" 
                       class="form-control{% if form.email.errors %} is-invalid{% endif %}" 
                       id="{{ form.email.id_for_label }}" 
                       name="{{ form.email.name }}" 
                       value="{{ form.email.value|default:'' }}"
                       placeholder="Введіть ваш email">
                {% if form.email.errors %}
                    <div class="invalid-feedback">{{ form.email.errors }}</div>
                {% endif %}
            </div>

            <div class="mb-3">
                <label for="{{ form.password1.id_for_label }}" class="form-label">Пароль</label>
                <input type="password" 
                       class="form-control{% if form.password1.errors %} is-invalid{% endif %}" 
                       id="{{ form.password1.id_for_label }}" 
                       name="{{ form.password1.name }}"
                       placeholder="Введіть пароль">
                {% if form.password1.errors %}
                    <div class="invalid-feedback">{{ form.password1.errors }}</div>
                {% endif %}
                <div class="password-help">
                    Пароль повинен містити принаймні 8 символів та не бути занадто простим.
                </div>
            </div>

            <div class="mb-3">
                <label for="{{ form.password2.id_for_label }}" class="form-label">Підтвердження паролю</label>
                <input type="password" 
                       class="form-control{% if form.password2.errors %} is-invalid{% endif %}" 
                       id="{{ form.password2.id_for_label }}" 
                       name="{{ form.password2.name }}"
                       placeholder="Повторіть пароль">
                {% if form.password2.errors %}
                    <div class="invalid-feedback">{{ form.password2.errors }}</div>
                {% endif %}
            </div>

            <button type="submit" class="btn auth-btn">Зареєструватися</button>
        </form>

        <div class="social-login">
            <p class="text-muted mb-3">Або зареєструватися через:</p>
            <div class="d-flex justify-content-center gap-2">
                <a href="/accounts/google/login/" class="social-btn google">
                    <div class="social-icon google-icon"></div>
                    Google
                </a>
                <a href="/accounts/github/login/" class="social-btn github">
                    <div class="social-icon github-icon"></div>
                    GitHub
                </a>
            </div>
        </div>

        <div class="auth-links">
            <p>Вже маєте акаунт? <a href="{% url 'account_login' %}">Увійти</a></p>
        </div>
    </div>
</div>
{% endblock %}
